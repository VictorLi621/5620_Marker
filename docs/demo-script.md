# Demo演示脚本 (10-12分钟)

## 📋 演示前准备清单

- [ ] 代码从Canvas下载并解压
- [ ] 运行 `docker-compose up -d`
- [ ] 验证所有服务启动成功
- [ ] 准备样例作业文件 (PDF/Word)
- [ ] 打开浏览器：http://localhost:3000

---

## 🎬 Demo流程

### Step 1: 学生上传作业 (2分钟)

**操作：**
1. 点击"学生"快速登录（student@uni.edu / password）
2. 进入"提交作业"页面
3. 选择"算法设计 - 作业1"
4. 上传样例PDF文件
5. 点击"提交作业"

**展示要点：**
- ✅ 文件上传成功
- ✅ 实时显示处理进度条：
  - `UPLOADED` → `OCR_PROCESSING` → `ANONYMIZING` → `SCORING` → `SCORED`
- ✅ 前端每2秒轮询状态（异步处理）

**讲解词：**
> "学生提交作业后，系统会自动启动异步处理流程。首先进行OCR文本提取，然后匿名化处理，移除学生姓名和学号，最后调用AI进行评分。整个过程无需学生等待。"

---

### Step 2: AI评分展示 (2分钟)

**操作：**
1. 等待状态变为`SCORED`
2. 展示后台日志（可选）
3. 说明AI评分机制

**展示要点：**
- ✅ AI评分完成：72.5分
- ✅ 置信度：0.88 (88%)
- ✅ 置信度判断逻辑：
  - `>= 0.85` → HIGH_CONFIDENCE（建议自动通过）
  - `< 0.85` → NEEDS_REVIEW（强制人工审核）

**讲解词：**
> "AI基于评分标准（Rubric）对匿名化作业进行评分，并给出置信度。本次评分88%置信度较高，但我们设置了85%阈值，低于此值必须由教师人工审核，确保公平性。"

---

### Step 3: 教师审核与发布 (3分钟)

**操作：**
1. 退出登录，点击"教师"快速登录（teacher@uni.edu / password）
2. 进入"审核提交"页面
3. 查看AI评分明细：
   - Q1: 35/50 - 算法实现正确
   - Q2: 22.5/30 - 复杂度分析不够详细
   - Q3: 15/20 - 代码质量良好
4. 查看AI反馈：优点、不足、改进建议
5. 输入教师分数：`75`
6. 添加评语："整体完成良好，建议补充最坏情况分析"
7. 点击"保存审核"
8. 点击"发布成绩"

**展示要点：**
- ✅ AI评分透明可解释
- ✅ 教师有最终决定权
- ✅ 发布后创建**不可变快照**
- ✅ 自动触发通知（带重试机制）

**讲解词：**
> "教师审核AI评分，可以查看详细的评分依据。教师有权调整分数，确保最终评分的准确性。点击发布后，系统会创建一个不可变的成绩快照（版本1），并通知学生。如果通知发送失败，系统会自动重试最多3次。"

---

### Step 4: 学生查看与申诉 (2分钟)

**操作：**
1. 切换回学生账号登录
2. 进入"查看成绩"页面
3. 查看详细反馈：
   - 最终成绩：75分
   - 优点列表
   - 需要改进的地方
   - 具体改进建议（what/why/how）
4. 点击"申诉成绩"
5. 输入申诉理由："我认为我的复杂度分析已经涵盖了关键点..."
6. 提交申诉

**展示要点：**
- ✅ 结构化反馈（不是简单的分数）
- ✅ 可操作的改进建议
- ✅ 申诉流程透明

**讲解词：**
> "学生不仅看到分数，还能看到详细的反馈。AI会针对每个扣分点提供改进建议，包括问题是什么、为什么重要、如何改进。学生如果对成绩有异议，可以提交申诉。"

---

### Step 5: 教师处理申诉 (2分钟)

**操作：**
1. 切换回教师账号
2. 进入"处理申诉"页面
3. 查看申诉详情
4. 决定：批准申诉
5. 调整分数为：`78`
6. 输入处理说明："经重新审阅，您的复杂度分析确实涵盖了关键点，分数调整为78"
7. 点击"批准申诉"

**展示要点：**
- ✅ 申诉被批准
- ✅ 系统自动重新发布（版本2快照）
- ✅ 学生收到新通知

**讲解词：**
> "教师审核申诉后，如果批准，系统会自动创建版本2快照并重新发布。所有历史版本都会被保留，确保成绩变更的可追溯性。"

---

### Step 6: 分析仪表板 (2分钟)

**操作：**
1. 进入"分析仪表板"
2. 展示：
   - 成绩分布柱状图
   - 统计指标：平均分、中位数、标准差
   - 错误热图：常见问题Top 5
   - 知识点掌握情况

**展示要点：**
- ✅ 可视化分析
- ✅ 发现教学盲点
- ✅ 数据驱动改进

**讲解词：**
> "教师可以看到班级的整体表现。错误热图帮助发现共性问题，比如62%的学生缺少复杂度分析，这提示教师在下次课程中需要重点讲解这部分内容。"

---

### Step 7: 展示Agentic能力 (1分钟)

**打开Docker日志或数据库：**

```bash
docker-compose logs backend | grep -E "Notification|Retry"
```

**展示内容：**
- ✅ 通知重试记录：
  ```
  Attempt 1: FAILED, retrying in 60s
  Attempt 2: FAILED, retrying in 120s
  Attempt 3: SUCCESS
  ```
- ✅ 审计日志表：每个操作都有记录
- ✅ AI置信度判断逻辑

**讲解词：**
> "系统展现了多种AI Agent能力：1) 基于置信度的自主决策（是否需要人工审核）；2) 失败自动重试（指数退避策略）；3) 完整的审计追踪。这些都是无人工干预的智能行为。"

---

### Step 8: 先进技术展示 (1分钟)

**展示内容：**
1. **Docker一键部署：**
   ```bash
   docker-compose up -d
   # 3个服务：Postgres + Backend + Frontend
   ```

2. **GitHub Actions CI/CD：**
   - 打开 `.github/workflows/ci-cd.yml`
   - 说明自动构建和测试流程

3. **阿里云OSS集成：**
   - 展示配置文件（docker-compose.yml环境变量）
   - 说明文件存储在云端

4. **React + Ant Design前端：**
   - 现代化UI
   - 响应式设计

**讲解词：**
> "项目采用了多项先进技术：Docker容器化确保一致性部署；GitHub Actions实现CI/CD自动化；阿里云OSS提供可扩展的文件存储；React和Ant Design打造现代化用户体验。"

---

## 🎯 总结陈述 (30秒)

**讲解词：**
> "本系统实现了完整的智能批改流程：从学生提交、OCR提取、匿名化处理、AI评分、教师审核、成绩发布、到申诉处理和数据分析。系统展现了强大的AI Agent能力，包括自主决策、自动重试、可解释性反馈。所有代码都可以从Canvas下载并一键部署。谢谢！"

---

## ⚠️ 应急预案

### 如果Docker启动失败：
```bash
docker-compose down -v
docker-compose up -d --build
```

### 如果前端无法访问后端：
- 检查CORS配置
- 检查端口占用：`netstat -an | grep 8080`

### 如果数据库未初始化：
- 检查`data.sql`是否执行
- 手动执行：`docker exec -i postgres psql -U admin -d grading_system < backend/src/main/resources/data.sql`

---

## 📝 评分对照

| 演示内容 | 对应评分项 | 分值 |
|---------|-----------|------|
| 完整工作流 | Stage-1需求实现 | 8分 |
| AI置信度/重试/反馈 | AI Agent能力 | 5分 |
| 申诉/日志/快照 | Agile迭代证据 | 6分 |
| Docker/CI/CD/OSS | 先进技术 | 6分 |

**总分：25分**

